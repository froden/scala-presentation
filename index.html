<!doctype html>
<html lang="en" xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html">

	<head>
		<meta charset="utf-8">

		<title>Scala > Java</title>

		<meta name="description" content="Introduction to Scala">
		<meta name="author" content="Frode Nerbråten">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/beige.css" id="theme">

		<!-- For syntax highlighting -->
		<!--<link rel="stylesheet" href="lib/css/zenburn.css">-->
        <link rel="stylesheet" href="lib/css/github.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

                <section>
                    <a class="image" href="http://www.bekk.no/" target="_blank">
                        <img src="images/bekk-logo-stor.png" alt="BEKK">
                    </a>
                    <p><a href="http://www.bekk.no/">www.bekk.no</a></p>
                </section>

				<section>
					<h1>Scala > Java</h1>
                    <h3>Introduction to Scala</h3>
					<p>
						<small>
                            Frode Nerbråten / <a href="http://twitter.com/froden">@froden</a><br>
                            Scala & JVM tech lead
                        </small>
					</p>
                    <a class="image" href="http://bekk.no" target="_blank">
                        <img src="images/bekk-logo-small.png" alt="Bekk">
                    </a>
                    <aside class="notes">
                        <ul>
                            <li>Hei og Velkommen! Hyggelig at jeg fikk komme og snakke litt om Scala for dere.</li>
                            <li>Jeg håper det er greit at jeg snakker på norsk og at dere forstår hva jeg sier.</li>
                            <li>Stopp meg gjerne og still spørsmål underveis hvis noe er uklart.</li>
                            <li>Frode Nerbråten, jobbet i Bekk i snart 8 år</li>
                            <li>Fagleder for Scala og JVM, som er Bekks kompetansegruppe for alternative språk på JVM-en. (scala, groovy, clojure)</li>
                            <li>Holdt på med Scala i ca 3 år og synes det er et veldig spennende språk.</li>
                            <li>Lært utrolig mye om programmering og ikke minst funksjonell programmering gjennom Scala</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <h2>SCALA</h2>
                    <p><em>A modern, statically typed, object-functional programming language on the JVM</em></p>
                    <img src="images/scala_button.jpg" alt="Scala">
                    <aside class="notes">
                        <ul>
                            <li>Ble oppfunnet i 2001 av Martin Odersky sammen med teamet hans på EPFL-universitet i Lausanne i Sveits</li>
                            <li>Martin Odersky er Professor i programmeringsspråk og er mannen bak Java-kompilatoren og Java generics</li>
                            <li>SCAlable LAnguage -> Og skal være et språk som skalerer godt fra små script til store enterprise-løsniger</li>
                            <li>Er også et hint om at Scala er god på concurrency (samtidighet), både innebygd og gjennom rammeverk som Akka.</li>
                            <li>Hybrid objektorientert og funksjonelt språk og påstår å forene det beste fra to verdener</li>
                            <li>Kompilerer til samme JVM bytekode som Java</li>
                            <li>Mer avansert typesystem enn Java med type inference => sjelden trenger å angi typer eksplisitt.</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <h2>Why Scala?</h2>
                    <aside class="notes">
                        <ul>
                            <li>Hvorfor bruke Scala</li>
                            <li>Hva er det som gjør Scala så bra?</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <h2>Elegant concise syntax</h2>
                    <pre class="fragment"><code class="scala" contenteditable>  case class Person(name: String, age: Int)</code></pre>
                    <pre class="fragment"><code class="scala" contenteditable>  val person = new Person("Frode", 33)

  person.age
  //res0: Int = 33</code></pre>
                    <pre class="fragment"><code class="scala" contenteditable>  def sayHi(p: Person) = "Hi there " + p.name

  sayHi(person)
  //res1: String = Hi there Frode</code></pre>
                    <aside class="notes">
                        <ul>
                            <li>Syntaxen i Scala gir samme uttrykkskraft som man ofte forbinder med dynamiske språk som Ruby</li>
                            <li>Men med type safety i tillegg!</li>
                            <li>====</li>
                            <li>La oss se på hvordan man definerer en klasse</li>
                            <li>Klassen, medlemsvariabler og default constructor kan man angi på samme linje</li>
                            <li>Slenger man på case foran får man også equals, hashcode, accessor metoder (men ikke setter)(immutable)</li>
                            <li>Typen kommer etter variabelnavn i Scala - fordi man ofte kan utelate den</li>
                            <li>====</li>
                            <li>Vi instansierer et objekt på samme måte som i Java</li>
                            <li>val betyr en immutable variabel. Samme som final i Java. Trenger ikke type, men kunne skrevet person: Person</li>
                            <li>Metoder uten parameter kan kalles uten parantes: person.age</li>
                            <li>====</li>
                            <li>Vi definerer metoder med keywordet def</li>
                            <li>Denne metoden har ett parameter, p av typen Person</li>
                            <li>Returtypen er String, men den kan utelates. Vis alternativ</li>
                            <li>Alt etter = er definisjonen og kan selvsagt gå over flere linjer</li>
                            <li>Resultatet av siste expression blir returverdien</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <h2>High performance</h2>
                    <ul>
                        <li>Compiled</li>
                        <li>Runs on the JVM</li>
                        <li>Comparable to Java</li>
                        <li>... or even better</li>
                    </ul>
                    <aside class="notes">
                        <ul>
                            <li>Siden Scala er kompilert og typesjekking skjer compile time => optimalisert bytekode => bra performance</li>
                            <li>Mye raskere enn de dynamiske JVM-språkene jruby, groovy, clojure, jython</li>
                            <li>Kan være tradeoff mellom kompakt og konsis syntax og ytelse</li>
                            <li>Vil alltid kunne skrive like effektiv scalakode som java - ikke alltid like pent</li>
                            <li>På noen områder er Scala raskere enn Java</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <h2>Object Oriented</h2>
                    <pre class="fragment"><code class="scala">  trait Programming {
    def makeSoftware(spec: String): Software = ...
  }

  trait Consulting {
    def consult(problem: String): Advice = ...
  }

  abstract class Employee

  class Developer extends Employee with Consulting with Programming</code></pre>
                    <aside class="notes">
                        <ul>
                            <li>Scala er et objektorientert språk</li>
                            <li>Alt er objekter i Scala og det skilles ikke mellom objekter og primitiver som i Java</li>
                            <li>Jeg vil likevel påstå at idealet i Scala er funksjonell programmering</li>
                            <li>Men med støtte for OO får man mulighet for bedre innkapsling og modularisering</li>
                            <li>Collections bibliotekene er gode eksempler på blandingen av objektorientering og funksjonelt</li>
                            <li>====</li>
                            <li>Traits er scalas svar på interface i java</li>
                            <li>Traits kan derimot også inneholde implementasjon</li>
                            <li>Kan extende så mange man vil uten problemene med multiple inheritance</li>
                            <li>Traits gjør det mulig med mixin composition som i eksemplet mitt her</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <h2>Functional</h2>
                    <div class="fragment">
                        <h4 style="text-align: left; padding-left: 50px;">first class functions</h4>
                        <pre><code class="scala">  val product = (num1: Int, num2: Int) => num1 * num2

  List(1, 2, 3, 4).fold(1)(product)

  //res0: Int = 24</code></pre>
                    </div>
                    <div class="fragment">
                        <h4 style="text-align: left; padding-left: 50px;">partial application</h4>
                        <pre><code class="scala">  val timesTwo: Int => Int = product(2, _)

  List(1, 2, 3, 4).map(timesTwo)

  //res1: List[Int] = List(2, 4, 6, 8)</code></pre>
                    </div>
                    <aside class="notes">
                        <ul>
                            <li>Scala er et fullblods funksjonelt programmeringsspråk</li>
                            <li>Strict by default, men støtter også non-strict eller lazy evaluering</li>
                            <li>====</li>
                            <li>Første bud er at Scala støtter funksjoner som first class citisens</li>
                            <li>Støtter både anonyme funksjoner og lexical closures</li>
                            <li>product funksjonen tar to int-parametre</li>
                            <li>fold tar inn en funksjon som tar 2 int som parametre</li>
                            <li>1 ganger første tallet, resultatet ganger neste tallet osv => svar 24</li>
                            <li>====</li>
                            <li>Hva om vi bare ønsker å gange alle tallene i listen med f.eks. 2</li>
                            <li>Ikke noe problem. Vi partially applyer 2 som første argument og får en funksjon som tar 1 int som parameter</li>
                            <li>Denn kan vi så mappe over listen</li>
                            <li>map er for øvrig det samme som fmap i Haskell</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <h2>Functional II</h2>
                    <h4 style="text-align: left; padding-left: 50px;">pattern matching</h4>
                    <pre><code class="scala">  val people = List(Person("Frode", 33),
                    Person("Frode", 25),
                    Person("Alice", 27))

  for (person <- people) {
    person match {
      case Person("Frode", age) if (age > 30) => println("Found me")
      case Person("Frode", _) => println("Found some other Frode")
      case Person(name, age) => println(s"Found ${name} age ${age}")
    }
  }</code></pre>
                    <aside class="notes">
                        <ul>
                            <li>Scala støtter pattern matching som dere kjenner fra Haskell</li>
                            <li>case classes som Person gjør det mulig å pattern matche på alle feltene i klassen</li>
                            <li>Jeg har en listen med 3 personer</li>
                            <li>Itererer over denne og pattern matcher på hvert element</li>
                            <li>Hvis en person som heter frode har alder over 30 antar jeg at det er meg</li>
                            <li>Hvis ikke er det nok en annen frode</li>
                            <li>Til slutt alle andre treff</li>
                            <li>underscore er wildcard</li>
                            <li>Syntaksen minner litt om switch case statements i Java, men er mye mer avansert</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <h2>Functional III</h2>
                    <h4 style="text-align: left; padding-left: 50px;">monadic syntax</h4>
                    <pre><code class="scala">  val number1 = Some(1)
  val number2: Option[Int] = None

  val res = for {
    n1 <- number1
    n2 <- number2
  } yield n1 + n2

  //res: Option[Int] = None</code></pre>
                    <aside class="notes">
                        <ul>
                            <li>Scala har noe som kalles for comprehensions som er en slags avansert for-loop (sammenlignet med java)</li>
                            <li>Den kan enten brukes til bare iterering uten yield til slutt</li>
                            <li>Eller som list comprehensions med yield</li>
                            <li>Eller for monadiske operasjoner</li>
                            <li>Dette er tilsvarende list comprehensions og do-notation i Haskell</li>
                            <li>Option er scalas svar på Maybe monaden</li>
                            <li>Med for-comprehensions kan vi jobbe med monadiske verdier på en imperativ og lesbar måte</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <h2>Java interop</h2>
                    <ul>
                        <li>Use existing great Java frameworks</li>
                        <li>Write Java compatible APIs</li>
                        <li>Deploy on existing Java infrastructure</li>
                    </ul>
                    <pre><code class="scala">  val s = "Scala"

  //s: java.lang.String = Scala</code></pre>
                    <aside class="notes">
                        <ul>
                            <li>En gangske kul ting med Scala er at det er kompatibelt med Java</li>
                            <li>Man kan bruke alle eksisterende Java-biblioteker og verktøy med Scala (Spring, Hibernate, Maven, osv..)</li>
                            <li>Man kan også skrive scalakode som kan brukes fra Javakode. Eksempler Akka og Play.</li>
                            <li>Men man må huske at ikke all Scalakode vil fungere fra Java.</li>
                            <li>For en Java virtual machine så er Scala-programmer bare vanlig bytekode</li>
                            <li>Man kan derfor deploye sine Scala-programmer på samme Java-infrastruktur som man allerede har (bra for kunder)</li>
                            <li>Scala bruker noen av de samme standardbibliotekene som Java, men ofte med litt ekstra funksjonalitet</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <h2>Community</h2>
                    <a class="image" href="http://scaladays.org" target="_blank">
                        <img height="100" src="images/scaladays.png" alt="scaladays.org">
                    </a>
                    <a class="image" href="http://twitter.com" target="_blank">
                        <img height="100" src="images/twitter.jpg" alt="twitter.com">
                    </a>
                    <a class="image" href="http://akka.io" target="_blank">
                        <img height="100" src="images/akka.png" alt="akka.io">
                    </a>
                    <a class="image" href="http://github.com" target="_blank">
                        <img height="100" src="images/github.png" alt="github.com">
                    </a>
                    <a class="image" href="http://playframework.com" target="_blank">
                        <img height="100" src="images/play.png" alt="playframework.com">
                    </a>
                    <a class="image" href="http://typesafe.com" target="_blank">
                        <img height="100" src="images/typesafe.png" alt="typesafe.com">
                    </a>
                    <a class="image" href="http://scala-lang.org" target="_blank">
                        <img height="100" src="images/scala.png" alt="scala-lang.org">
                    </a>
                    <a class="image" href="http://liftweb.net/" target="_blank">
                        <img height="100" src="images/lift.png" alt="liftweb.net">
                    </a>
                    <a class="image" href="http://2013.flatmap.no/" target="_blank">
                        <img height="100" src="images/flatmap.png" alt="2013.flatmap.no">
                    </a>
                    <a class="image" href="http://stackoverflow.com/" target="_blank">
                        <img height="100" src="images/stackoverflow.png" alt="stackoverflow.com">
                    </a>
                    <a class="image" href="http://www.meetup.com/scalabin/" target="_blank">
                        <img height="100" src="images/meetup.jpg" alt="meetup.com/scalabin">
                    </a>
                    <aside class="notes">
                        <ul>
                            <li>Scala har et stort community med mange engasjerte og meget dyktige folk</li>
                            <li>Det finnes mange bra rammeverk skrevet i og for Scala. Det blir stadig flere.</li>
                            <li>AKKA - actor framwork for concurrent systemer</li>
                            <li>Play2 - Scalas svar på Rails</li>
                            <li>Lift - Et view first basert web-rammeverk</li>
                            <li>Etter hvert meget god IDE-støtte både for IntelliJ og Eclipse</li>
                            <li>Man finner som regel svar på det man lurer på ved å google</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <h2>LinkedIn use Scala</h2>
                    <a class="image" href="http://linkedin.com/" target="_blank">
                        <img src="images/linkedin.png" alt="linkedin.com">
                    </a>
                    <aside class="notes">
                        <ul>
                            <li>Men er det noen som bruker Scala i produksjon?</li>
                            <li>Jada, LinkedIn bruker det</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <h2>BEKK use Scala</h2>
                    <a class="image" href="http://bekk.no/" target="_blank">
                        <img src="images/bekk-logo-stor.png" alt="bekk.no">
                    </a>
                    <aside class="notes">
                        <ul>
                            <li>Bekk har for tiden ett rent Scala-prosjekt</li>
                            <li>Flere som bruker det til mindre ting</li>
                            <li>Flere vurderer å ta det i bruk</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <h2>Twitter use Scala</h2>
                    <a class="image" href="http://twitter.com/" target="_blank">
                        <img src="images/twitter-birds.jpg" alt="twitter.com">
                    </a>
                    <aside class="notes">
                        <ul>
                            <li>Twitter fikk problemer med ytelse i sin Ruby-basete back-end</li>
                            <li>Begynte å skrive om kritiske deler til Scala i stedet</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <p style="font-size: 1.5em;"><q cite="http://twitter.com/al3x"><strong>Basically</strong>, it's the future</q></p>
                    <p><a href="http://twitter.com/al3x">@al3x</a></p>
                    <aside class="notes">
                        <ul>
                            <li>Basically its the future</li>
                            <li>Alex fra twitter er enig med meg at Scala er verdt å satse på</li>
                            <li>Jeg mener Scala er et meget attraktivt alternativ til Java</li>
                            <li>Og det er modent nok til å ta det i bruk på prosjekter i dag!</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <img src="images/demotime.jpg" alt="demo">
                    <p style="float:left; margin-left: 31px;"><small>Source: Mike Rohde</small></p>
                    <aside class="notes">
                        <ul>
                            <li>Jeg skjønner at det kan bli litt kjedelig å høre på meg stå og prate</li>
                            <li>Så derfor tenkte jeg å kjøre en liten demo</li>
                            <li>Jeg skal vise et eksempel på to veldig vanlige problemstillinger som kan løses elegant i Scala</li>
                            <li>Nemlig feilhåndtering og Samtidighet (concurrency)</li>
                            <li>Vise bruken av to nyttige monads: Try til feilhåndtering og Future til concurrency</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <p>
                        Takk for meg!
                    </p>
                    <a class="image" href="http://bekk.no" target="_blank">
                        <img src="images/bekk-logo-small.png" alt="Bekk">
                    </a>
                    <aside class="notes">
                        <ul>
                            <li>Spørsmål?</li>
                            <li>Takk for meg!</li>
                        </ul>
                    </aside>
                </section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: "beige", //Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'linear', // default/cube/page/concave/zoom/linear/fade/none

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/showdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.pack.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
